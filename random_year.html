<html lang="en">
   <head>
      <title>Random Year</title>
   </head>
   <body>
      <div>
         <span id="year"></span> <span id="age"></span>
      </div>
   </body>
</html>

<script>
   const getUrlParameters = () => {
      const urlParams = new URLSearchParams(window.location.search);
      let processedUrlParams = {};
      for (let entry of urlParams.entries()) {
         let [key, value] = entry;
         if (value.toLowerCase() === 'true')
            value = true;
         else if (value.toLowerCase() === 'false')
            value = false;
         else if (value.toLowerCase() === 'null')
            value = null;
         else if (!isNaN(parseFloat(value)))
            value = parseFloat(value);
         processedUrlParams[key] = value;
      }
      return processedUrlParams;
   };

   const urlParameters = getUrlParameters();
   let startYear = 0;
   if (urlParameters.hasOwnProperty('startYear')) {
      const requestedStartYear = parseInt(urlParameters.startYear, 10);
      if (startYear < requestedStartYear)
         startYear = requestedStartYear;
   }
   const year = Math.floor(Math.random() * (3910 - startYear) + startYear);
   let age = 'Age of Gnosis';
   if (year < 480)
      age = 'Age of Cervia';
   else if (year < 2115)
      age = 'Age of Expansion';
   else if (year < 3011)
      age = 'Age of Rivals';
   const yearSpan = document.getElementById('year');
   yearSpan.innerHTML = year.toString();
   const ageSpan = document.getElementById('age');
   ageSpan.innerHTML = age;
</script>
